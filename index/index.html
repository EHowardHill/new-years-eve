<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link src="./primary.css">
        <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>

        <style>

            body {
                background-image: url("./img/stars.jpg");
            }

            .shoulder {
                width: 20%;
            }

            .content {
                width: 60%;
            }

            @media (max-width: 600px) {
                .shoulder {
                    width: 5%;
                }

                .content {
                    width: 90%;
                }
            }

        </style>

        <script>

            function musicKill() {
                document.getElementById("songTitle").textContent = "";
                document.getElementById("midiPlayerBg").setAttribute("src", "");
                document.getElementById("midiPlayer").stop();
            }

            function setMusic(url, friendlyName) {
                document.getElementById("songTitle").textContent = friendlyName;
                document.getElementById("midiPlayerBg").setAttribute("src", url);

                document.getElementById("midiPlayer").setAttribute("src", url);
                document.getElementById("midiPlayer").reload();
                document.getElementById("midiPlayer").play();
            }

            function setCookie(name,value,days) {
                var expires = "";
                if (days) {
                    var date = new Date();
                    date.setTime(date.getTime() + (days*24*60*60*1000));
                    expires = "; expires=" + date.toUTCString();
                }
                document.cookie = name + "=" + (value || "")  + expires + "; path=/";
            }

            function getCookie(name) {
                var nameEQ = name + "=";
                var ca = document.cookie.split(';');
                for(var i=0;i < ca.length;i++) {
                    var c = ca[i];
                    while (c.charAt(0)==' ') c = c.substring(1,c.length);
                    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
                }
                return null;
            }
            
            function eraseCookie(name) {   
                document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            }

        </script>
    </head>
    <body>

        <table style="color: white;">
            <tr>
                <td>
                    Current song:
                    <div style="font-weight: bold;" id="songTitle">
                        Arirang
                    </div>
                </td>
                <td>
                    <midi-player style="color: black;" id="midiPlayer" loop src="./sfx/arirang.mid" sound-font></midi-player>
                    <bgaudio id="midiPlayerBg" src="./sfx/arirang.mid"></bgaudio>
                </td>
            </tr>
        </table>

        <iframe src="./source/internal.htm" width="100%" height="640px"></iframe>

        <p style="color:transparent">
            <u>New Year's Eve</u> uses iframes to contain the story. On text-based browsers, press 'ENTER' to continue.
        </p>

    </body>
</html>